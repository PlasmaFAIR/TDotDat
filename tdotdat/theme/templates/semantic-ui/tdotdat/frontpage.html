{# -*- coding: utf-8 -*-

    Copyright (C) 2022 TDoTP.

    TDotDat is free software; you can redistribute it and/or modify it under
  the terms of the MIT License; see LICENSE file for more details.
#}
{%- extends "invenio_theme/frontpage.html" %}

{% block page_body %}
<div class="ui container grid">
  <div class="row"></div>
  <div class="row"></div>
</div>

<div class="ui text container">
  <h1 id="frontpage-h1" class="ui header centered">Welcome to TDotDat.</h1>

  <h3 class="second">A Gyrokinetic simulation database</h3>
  <p>
    TDotDat is a database of gyrokinetic simulations for
    the <a href="https://www.tdotp.ac.uk">TDoTP</a> project. This is
    in the development phase and is liable to change quite a lot.

    TDotDat uses
    <a href="https://github.com/pyro-kinetics/pyrokinetics">
      Pyrokinetics
    </a>
    to read simulations from a variety of gyrokinetic solvers,
    including GS2, GENE, and CGYRO.

    Data is stored following the
    <a href="https://gitlab.com/gkdb/gkdb/raw/master/doc/general/IOGKDB.pdf">GKDB</a>,
    IMAS/<a href="https://gafusion.github.io/omas/schema/schema_gyrokinetics.html">OMAS</a>
    schema.
  </p>
  <h3 class="second">Searching</h3>
  <p>
    Simple searches like <code>mtm</code> or <code>MAST</code> will
    search for those terms in all simulation fields, such as the title
    or keywords. You can also search for more specific parameters with
    the range syntax, for example:<br>
    <ul>
      <li><code>flux_surface.q:&lt;=4.4</code>: Safety factor less than or equal to 4.4</li>
      <li><code>wavevector.eigenmode.growth_rate_norm:&gt;2.3</code>: Linear growth rate larger than 2.3</li>
    </ul>
    See the <a href="records/reference">schema reference</a> for a
    list of the individual fields you can search by.
  </p>
  <h3 class="second">Access</h3>
  <p>
    The database is open for read access to everyone, but uploads are
    currently restricted to TDoTP researchers. Please contact Peter
    Hill to get a user account. If you don't know how to do that,
    you're not supposed to have acess &#128516;
  </p>
  <h3 class="second">Bug reports and feedback</h3>
  <p>
    Please report any issues via
    our <a href="https://github.com/PlasmaFAIR/TDotDat/issues">issue
    tracker</a>
  </p>
</div>

<div class="ui container two column grid">
  <div class="row"></div>
  <div class="row">
    <div class="column">
      <div class="ui message">
        <h2 class="ui header">Let's get started</h2>
        <p>
          Upload a new gyrokinetic simulation using web form. Good for
          simple simulations with a single input and output file.
        </p>
        <a href="{{ url_for('tdotdat_records.create') }}" class="ui primary button">Create upload</a>
      </div>
    </div>
    <div class="column">
      <div class="ui message">
        <h2 class="ui header">Or script your uploads</h2>
        <p>
          Especially useful for simulations with multiple input or
          output files, or for automating uploading many
          simulations. Follow these steps to use our script:
        </p>
        <ol>
          <li>
            Create a Personal Access Token (PAT) from
            <a href="account/settings/applications/tokens/new/">
              <em>My Account > Applications > Personal access tokens > new</em>
            </a><br>
            Make sure to save the token somewhere -- it will only be shown once!
          </li>
          <li>
            Download the TDotDat
            <a href="https://github.com/PlasmaFAIR/TDotDat/blob/main/upload_run.py">upload script</a>
          </li>
          <li>
            Run the script like:<br>
            <code>
              $ export my_token=&lt;your PAT&gt;<br>
              $ ./upload_run.py &lt;simulation input file&gt; \<br>
              &nbsp;&nbsp;--token=$my_token \<br>
              &nbsp;&nbsp;--title="My simulation title" \<br>
              &nbsp;&nbsp;--outputs &lt;list of output files&gt;
            </code>
          </li>
        </ol>
      </div>
    </div>
  </div>
</div>

<!-- <div class="ui container grid"> -->
<!--   <div class="row"></div> -->
<!--   <div class="row"> -->
<!--     <div class="column"> -->
<!--       <div class="ui message"> -->
<!--         <h2 class="ui header">Search equililbria</h2> -->
<!--         <p>Search for an equilibrium</p> -->
<!--         <form action="{{ url_for('equilibrium.search') }}" class="ui form"> -->
<!--           <div class="ui fluid action input"> -->
<!--             <input type="text" name="q" class="form-control" -->
<!--                    placeholder="{{ _("Equilibrium name or parameter") }}"> -->
<!--             <button type="submit" class="ui icon search button"><i class="search icon"></i></button> -->
<!--           </div> -->
<!--         </form> -->
<!--       </div> -->
<!--     </div> -->
<!--   </div> -->
<!--   <div class="row"> -->
<!--     <div class="column"> -->
<!--       <div class="ui message"> -->
<!--         <h2 class="ui header">Create a new equilibrium</h2> -->
<!--         <p>Upload a new local equilibrium</p> -->
<!--         <a href="{{ url_for('equilibrium.create') }}" class="ui primary button">Create upload</a> -->
<!--       </div> -->
<!--     </div> -->
<!--   </div> -->
<!-- </div> -->

<div class="ui container grid">
  <div class="row"></div>
  <div class="row">
    <div class="column">
      <div class="ui horizontal divider">
        Disclaimer
      </div>
      <p>
        To the extent permitted by law, the University provides this
        website and its contents on an "as is" basis and makes no
        representation or warranty of any kind regarding this website
        or any information, content, products or services on it. The
        University does not represent or warrant that the information
        accessible via this website is accurate, complete or
        current. In no circumstances, to the extent permitted by law,
        shall the University or or any of its officers or employees be
        liable for any loss, additional costs or damage (howsoever
        arising) suffered as a result of any use of this website or
        its contents.
      </p>
    </div>
  </div>
</div>
{% endblock %}
